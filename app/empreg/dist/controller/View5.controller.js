sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("empreg.controller.View5",{onInit:function(){this.oList=this.byId("employeelist")},getRouter:function(){return UIComponent.getRouterFor(this)},onNavBack:function(){var e,t;e=History.getInstance();t=e.getPreviousHash();if(t!==undefined){window.history.go(-1)}else{this.getRouter().navTo("appHome",{},true)}},onCreate:function(){var e=this;$.ajax({type:"GET",url:"/CatalogService/Employees?$orderby=ID desc&$top=1",dataType:"json",success:function(o){if(o&&o.value&&o.value.length>0){var r=o.value[0];var a=r.ID+1;var n=e.byId("country").getSelectedItem().getKey();var i={Netherlands:1,India:2,Singapore:3};var s=i[n];var l={ID:a,fname:e.byId("fname").getValue(),lname:e.byId("lname").getValue(),desig:e.byId("desig").getValue(),email:e.byId("email").getValue(),skills:e.byId("skills").getValue(),country_ID:s,State:e.byId("idstate").getValue(),city:e.byId("idcity").getValue(),doj:e.byId("myDatePicker").getValue(),yoe:parseInt(e.byId("yoe").getValue()),reportingPerson:e.byId("reportingPerson").getValue(),gender:e.byId("genderRadioGroup").getSelectedButton().getText()};$.ajax({contentType:"application/json",type:"POST",url:"/CatalogService/Employees",dataType:"json",data:JSON.stringify(l),success:function(o){t.success("Employee data saved successfully!");e.clearFormFields()},error:function(e){t.error("Error while saving employee data")}})}else{t.error("Error: No employee data found.")}},error:function(e){t.error("Error fetching the highest employee ID")}})},clearFormFields:function(){const e=["Id","fname","lname","desig","email","skills","idstate","idcity","myDatePicker","yoe"];const t=this.byId("genderRadioGroup");e.forEach(e=>{const t=this.byId(e);if(t){t.setValue("")}});if(t){t.setSelectedButton(null)}},onCancel:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("View2")}})});