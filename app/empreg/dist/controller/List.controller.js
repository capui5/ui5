sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent"],function(e,t){"use strict";return e.extend("empreg.controller.List",{onInit:function(){this.oList=this.byId("employeelist");this.oDataModel=this.getOwnerComponent().getModel();this.getView().setModel(this.oDataModel)},getRouter:function(){return t.getRouterFor(this)},onNavBack:function(){var e,t;e=History.getInstance();t=e.getPreviousHash();if(t!==undefined){window.history.go(-1)}else{this.getRouter().navTo("View1",{},true)}},onAdvancedSearch:function(e){var t=e.getParameter("newValue");var a=this.getView().byId("employeelist");var o=a.getBinding("items");if(o){var r=[];var i=t.toLowerCase();var s=[{term:["cap"],matches:["cloud","cloud development","cloud application programming","cloud application programming model","capm"]},{term:["javascript"],matches:["react","node.js"]},{term:["azure"],matches:["devops","aws","azure"]},{term:["frontend developer"],matches:["html","css","Angular","Fullstack","react.js","vue.js","javascript","wordpress","Fiori"]},{term:["backend developer"],matches:["ABAP","node js","java","Fullstack","python","c","capm","cap","cloud","cloud development","cloud application programming","cloud application programming model","sql","hana database","php"]},{term:["data science"],matches:["Phyton","Data engineer"]},{term:["solution Architect"],matches:["agile","cloud computing"]}];s.forEach(function(e){if(e.term.includes(i)){e.matches.forEach(function(e){var t=new sap.ui.model.Filter({path:"skills",operator:sap.ui.model.FilterOperator.Contains,value1:e,caseSensitive:false});r.push(t)})}});if(r.length===0){var n=new sap.ui.model.Filter({path:"skills",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});r.push(n)}var l=new sap.ui.model.Filter({path:"fname",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});var p=new sap.ui.model.Filter({path:"lname",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});var c=new sap.ui.model.Filter({path:"desig",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});var u=new sap.ui.model.Filter({path:"email",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});var d=new sap.ui.model.Filter({path:"country/name",operator:sap.ui.model.FilterOperator.Contains,value1:t,caseSensitive:false});r.push(l,p,c,u,d);var m=new sap.ui.model.Filter({filters:r,and:false});o.filter(m)}},onaddnewemployee:function(){var e=this.getOwnerComponent().getRouter();e.navTo("View5")},onDeleteSpecificRecord:function(e,t){var a=t.ID;var o=this;$.ajax({url:"../../CatalogService/Employees/"+a,method:"DELETE",success:function(){MessageBox.success("Employee deleted successfully.",{onClose:function(){window.location.reload()}});var t=e.getModel("dataModel");var o=t.getProperty("/Employees");for(var r=0;r<o.length;r++){if(o[r].ID===a){o.splice(r,1);t.setProperty("/Employees",o);e.getModel().refresh(true);break}}},error:function(){MessageBox.error("Error deleting employee.")}})},onListItemPressed:function(e){var t,a;t=e.getSource("listItem");a=t.getBindingContext("MainModel");this.getRouter().navTo("employee",{employeeId:a.getProperty("ID")});console.log("clicked")}})});